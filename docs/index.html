<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />

  <!--
    Prevent caching of index.html itself, so that
    its fetch() code always runs on every visit.
  -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
  <meta http-equiv="Pragma" content="no-cache"/>
  <meta http-equiv="Expires" content="0"/>

  <title>Redirecting…</title>

  <script>
    (async () => {
      try {
        // Fetch the latest JSON, bypassing any cache
        const resp = await fetch("redirect.json", { cache: "no-store" });
        const { targetURL } = await resp.json();
        // Immediately redirect
        window.location.replace(targetURL);
      } catch (err) {
        console.error("Redirect failed:", err);
      }
    })();
  </script>
</head>
<body>
  <p>Redirecting… if you’re not sent in a sec, <a id="fallback">click here</a>.</p>
  <script>
    // In case JS redirect stalls, fill the fallback link
    fetch("redirect.json", { cache: "no-store" })
      .then(r => r.json())
      .then(({ targetURL }) => {
        const a = document.getElementById("fallback");
        a.href = targetURL;
        a.textContent = targetURL;
      });
  </script>
</body>
</html>
